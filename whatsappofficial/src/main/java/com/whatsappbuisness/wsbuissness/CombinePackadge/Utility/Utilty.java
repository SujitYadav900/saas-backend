package com.whatsappbuisness.wsbuissness.CombinePackadge.Utility;
/*
 Author=Supreet Singh
 Date= 08/02/21 3:37 PM
*/

import com.whatsappbuisness.wsbuissness.CombinePackadge.RabbitMqQue.QueName;
import okhttp3.*;

import java.io.IOException;
import java.util.HashMap;

public class Utilty {

  static   void sendMessage(String dst, String templateId) throws IOException {
        OkHttpClient client = new OkHttpClient().newBuilder()
                .build();
        MediaType mediaType = MediaType.parse("application/json");
        RequestBody body = RequestBody.create(mediaType, "{\n\t\"to\": \"" + dst + "\",\n\t\"type\": \"template\",\n\t\"template\": {\n\t\t\"namespace\": \"60c813f1_bf7f_4aee_afa4_2a87cc648e98\",\n    \t\"name\": \"" + templateId + "\",\n        \"language\": {\n    \t\t\"policy\": \"deterministic\",\n    \t\t\"code\": \"en\"\n        },\n        \"components\": [{\n            \"type\": \"body\",\n            \"parameters\": [\n                \n            ]\n        }]\n\t}\n}\n");
        Request request = new Request.Builder()
                .url("https://prpservices.ameyo.net:9115/v1/messages/")
                .method("POST", body)
                .addHeader("Content-Type", "application/json")
                .addHeader("Authorization", "Bearer eyJhbGciOiAiSFMyNTYiLCAidHlwIjogIkpXVCJ9.eyJ1c2VyIjoiYWRtaW4iLCJpYXQiOjE2MTY1MDIxNzIsImV4cCI6MTYxNzEwNjk3Miwid2E6cmFuZCI6ImE4YmM5ZGQ2MzkwOWQ2ZjgxZjkwYjg1NmJkODhkMWFmIn0.mIbug1CD03Do7U6kPtV56XHuztYxWv082MZN3-lOPDo")
                .build();
        Response response = client.newCall(request).execute();
        response.close();
  }

   static void checkContant(String dst) throws Exception {
        OkHttpClient client = new OkHttpClient().newBuilder()
                .build();
        MediaType mediaType = MediaType.parse("application/json");
        RequestBody body = RequestBody.create(mediaType, "{\n   \"blocking\": \"wait\",\n   \"contacts\": [\n      \"+" + dst + "\"\n   ],\n   \"force_check\": true\n}");
        Request request = new Request.Builder()
                .url("https://prpservices.ameyo.net:9115/v1/contacts")
                .method("POST", body)
                .addHeader("Content-Type", "application/json")
                .addHeader("Authorization", "Bearer eyJhbGciOiAiSFMyNTYiLCAidHlwIjogIkpXVCJ9.eyJ1c2VyIjoiYWRtaW4iLCJpYXQiOjE2MTQ2MDA5MTEsImV4cCI6MTYxNTIwNTcxMSwid2E6cmFuZCI6IjEzZGE5MjUwMDZhNTA0MzlkOTUxYTVhYTE2ZmIyNTgzIn0.rLuSWjJO22xE1g-q99dYofMjHTWJwphWo2sfGIJJHKI")
                .build();
        Response response = client.newCall(request).execute();
        String str = response.body().string();
        if (str.contains("invalid")) {
            throw new Exception("Number Invalid");
        }
       response.close();
    }
    public static void main(String[] args) {


        String contants ="9921151818\n" +
                "2677431755\n" +
                "8948933208\n" +
                "9811035422\n" +
                "9643322401\n" +
                "8005641670\n" +
                "9976743493\n" +
                "7840870004\n" +
                "9911483400\n" +
                "8527600882\n" +
                "9958125214\n" +
                "9915268838\n" +
                "9811955432\n" +
                "9899237424\n" +
                "9716139667\n" +
                "9212327227\n" +
                "9822580280\n" +
                "9642041000\n" +
                "9810739139\n" +
                "8169480913\n" +
                "9307200200\n" +
                "6305847484\n" +
                "9167990007\n" +
                "8178047139\n" +
                "9414639260\n" +
                "9811589220\n" +
                "9819760444\n" +
                "9849201186\n" +
                "8800540421\n" +
                "7718897115\n" +
                "9330912282\n" +
                "9300074979\n" +
                "9119365333\n" +
                "7532021982\n" +
                "9915278688\n" +
                "8875616444\n" +
                "9811644003\n" +
                "8787487505\n" +
                "9820915005\n" +
                "9971171665\n" +
                "8130192841\n" +
                "9911666688\n" +
                "7982380091\n" +
                "9315425562\n" +
                "9717856347\n" +
                "9815033721\n" +
                "9650086731\n" +
                "9830313683\n" +
                "9310038255\n" +
                "9971197061\n" +
                "9871662515\n" +
                "9999007422\n" +
                "8586872898\n" +
                "9971396810\n" +
                "9810554547\n" +
                "9015199911\n" +
                "9818124468\n" +
                "9814002310\n" +
                "9818489901\n" +
                "9540407161\n" +
                "9599200969\n" +
                "9811267679\n" +
                "9873051888\n" +
                "9747001400\n" +
                "9873104472\n" +
                "9761006099\n" +
                "9880539743\n" +
                "8968992185\n" +
                "9992500325\n" +
                "9910928123\n" +
                "9205981356\n" +
                "7837814143\n" +
                "9815966977\n" +
                "8087210909\n" +
                "9314409690\n" +
                "9540000074\n" +
                "7530969928\n" +
                "7727011733\n" +
                "9311621752\n" +
                "8130406999\n" +
                "7777035035\n" +
                "9911502700\n" +
                "8341119191\n" +
                "9864074894\n" +
                "9805649902\n" +
                "9953716323\n" +
                "9871614131\n" +
                "9898219992\n" +
                "9752222849\n" +
                "9311871237\n" +
                "8448598120\n" +
                "8588000338\n" +
                "8146589388\n" +
                "9582794342\n" +
                "9911991218\n" +
                "9989089900\n" +
                "9910707595\n" +
                "9212422422\n" +
                "9897982348\n" +
                "8376926386\n" +
                "8107929219\n" +
                "9266331234\n" +
                "8800113335\n" +
                "9888771677\n" +
                "9810070358\n" +
                "9716009955\n" +
                "9717888559\n" +
                "9717278782\n" +
                "9910082900\n" +
                "9582101001\n" +
                "9887435806\n" +
                "9711130046\n" +
                "9112083838\n" +
                "7044100287\n" +
                "9971222706\n" +
                "9968629849\n" +
                "9570501284\n" +
                "8882380822\n" +
                "8874777879\n" +
                "9793508887\n" +
                "9990857642\n" +
                "9415408502\n" +
                "9414062513\n" +
                "8010120010\n" +
                "9811512817\n" +
                "8368536643\n" +
                "9001023489\n" +
                "9136559191\n" +
                "9540198299\n" +
                "7929707200\n" +
                "9540114125\n" +
                "9953153000\n" +
                "9954169121\n" +
                "9999056501\n" +
                "9560035558\n" +
                "8130208877\n" +
                "9999945950\n" +
                "8802221681\n" +
                "9873234440\n" +
                "7777350350\n" +
                "9999406088\n" +
                "9844843150\n" +
                "9999732641\n" +
                "8849606045\n" +
                "9958294009\n" +
                "8114403493\n" +
                "9820096684\n" +
                "9818343400\n" +
                "8588822407\n" +
                "8595252158\n" +
                "8826054272\n" +
                "9810010788\n" +
                "7337337015\n" +
                "9811021630\n" +
                "8800690690\n" +
                "9999788221\n" +
                "9337747601\n" +
                "9910263001\n" +
                "9425302578\n" +
                "9254245444\n" +
                "9896017210\n" +
                "9920936330\n" +
                "9711972019\n" +
                "8010120010\n" +
                "9560272737\n" +
                "9412719645\n" +
                "8743914643\n" +
                "011 46005300\n" +
                "011-43538851\n" +
                "9819327569\n" +
                "9464142834\n" +
                "8467892223\n" +
                "9650022884\n" +
                "9818627461\n" +
                "7406740077\n" +
                "9811032477\n" +
                "9986777755\n" +
                "9494154544\n" +
                "8745888666\n" +
                "9997170671\n" +
                "9999956122\n" +
                "9968098637\n" +
                "8019626435\n" +
                "9891256672\n" +
                "9964012161\n" +
                "9448201935\n" +
                "8710892975\n" +
                "9426779333\n" +
                "9819598802\n" +
                "9999021089\n" +
                "9844011779\n" +
                "7533802949\n" +
                "9953721201\n" +
                "9878011192\n" +
                "9871984751\n" +
                "9653380659\n" +
                "9888700927\n" +
                "9986762319\n" +
                "9886762331\n" +
                "9911033552\n" +
                "9968296661\n" +
                "9999221831\n" +
                "9718568100\n" +
                "9931943214\n" +
                "9910522256\n" +
                "9958400387\n" +
                "9810324644\n" +
                "9023058886\n" +
                "8745018901\n" +
                "9802302323\n" +
                "8970062555\n" +
                "9899637885\n" +
                "9811225680\n" +
                "8745887888\n" +
                "8955386479\n" +
                "9810768895\n" +
                "9810455330\n" +
                "9309370470\n" +
                "9899956677\n" +
                "7620066999\n" +
                "9999946950\n" +
                "9015071208\n" +
                "011-69000199\n" +
                "9810365642\n" +
                "9810373609\n" +
                "9650201897\n" +
                "9899250252\n" +
                "9810615060\n" +
                "9819100024\n" +
                "9811631545\n" +
                "9803519888\n" +
                "9899956677\n" +
                "9999946950 \n" +
                "9867417161\n" +
                "9815750992\n" +
                "9821938324\n" +
                "9999943001\n" +
                "8527594046\n" +
                "8291668886\n" +
                "9909323440\n" +
                "9711626270\n" +
                "9810010787\n" +
                "9814000337\n" +
                "9165900081 \n" +
                "9023058886\n" +
                "9810768895 \n" +
                "9818400800   \n" +
                "9023058886 \n" +
                "9915921235\n" +
                "8512800851 \n" +
                "9560272737 \n" +
                "9663394853 \n" +
                "9821938324\n" +
                "9879607758   \n" +
                "9780233264\n" +
                "9818668083\n" +
                "9810455330\n" +
                "9997170671 \n" +
                "9422324420  \n" +
                "8745018901\n" +
                "8745018901  \n" +
                "9964012161 \n" +
                "9911302724 \n" +
                "9873542175\n" +
                "9594063040\n" +
                "8802221681\n" +
                "9920053821   \n" +
                "9920053821\n" +
                "9428130839 \n" +
                "9990399111 \n" +
                "8750471515\n" +
                "9999043111 \n" +
                "9811234378 \n" +
                "9873052500\n" +
                "9999379129\n" +
                "9811449457\n" +
                "9888497417\n" +
                "9356686000\n" +
                "9321597722\n" +
                "9?211114811?\n" +
                "7021396937\n" +
                "9873995807\n" +
                "8527211884\n" +
                "9899956677\n" +
                "9803311310\n" +
                "9814000337 \n" +
                "9915703377\n" +
                "9518950786\n" +
                "9810258776 \n" +
                "9897067282 \n" +
                "9818085041\n" +
                "9999007422    \n" +
                "9300393199\n" +
                "9785904451\n" +
                "9815050007 \n" +
                "9560072049\n" +
                "9818147878\n" +
                "8697317258   \n" +
                "8826579115 \n" +
                "9931943214  \n" +
                "9811071033 \n" +
                "7464837021 \n" +
                "9811228404\n" +
                "9811447742 \n" +
                "2261505200    \n" +
                "9810038056  \n" +
                "8874777879 \n" +
                "9815050007  \n" +
                "9899637885\n" +
                "9899883377\n" +
                "9867417161    \n" +
                "9425302578 \n" +
                "9810795625\n" +
                "9899141828\n" +
                "9300393199\n" +
                "9311102019  \n" +
                "9310202737    \n" +
                "8092319451\n" +
                "9716268991\n" +
                "9811631545\n" +
                "9897067282  \n" +
                "9810533242 \n" +
                "9886520788\n" +
                "9990275000 \n" +
                "9007016303   \n" +
                "9810216243    \n" +
                "8470833334    \n" +
                "2228817979 \n" +
                "8588824597\n" +
                "9999993180  \n" +
                "9855266411\n" +
                "9540198299 \n" +
                "9599993373\n" +
                "9654744951 \n" +
                "9911594155\n" +
                "7034871717\n" +
                "8745887888 \n" +
                "9415408502\n" +
                "9417042548\n" +
                "1141080402 \n" +
                "8126423145\n" +
                "9650096003    \n" +
                "9740291011\n" +
                "7838383633 \n" +
                "9594063040   \n" +
                "9911302724\n" +
                "8588814070\n" +
                "8826519333\n" +
                "9251280221\n" +
                "9811125894\n" +
                "9891835559\n" +
                "7044100287\n" +
                "9665448287\n" +
                "9405062733\n" +
                "9805649902\n" +
                "9599993373  \n" +
                "8505880003\n" +
                "9425288304    \n" +
                "8800690690 \n" +
                "9599993363  \n" +
                "8130211044 \n" +
                "9810249969  \n" +
                "9999675098 \n" +
                "7340856039   \n" +
                "8585901128\n" +
                "9599530173  \n" +
                "9212701864\n" +
                "9023524050\n" +
                "9999946950\n" +
                "9289408940\n" +
                "9448201935  \n" +
                "9711986880 \n" +
                "9309370470\n" +
                "9815012482 \n" +
                "9555990099\n" +
                "9818343400 \n" +
                "9916191461\n" +
                "9779115777 \n" +
                "9810444720 \n" +
                "8860403626\n" +
                "8194989526\n" +
                "8743914643  \n" +
                "9968622533 \n" +
                "7838266910\n" +
                "Nikhil Saini\n" +
                "9718073531 \n" +
                "9811328244 \n" +
                "9990059438 \n" +
                "9711708010\n" +
                "9422074172\n" +
                "9810533242\n" +
                "8586931478\n" +
                "9569724311\n" +
                "9045752063\n" +
                "9560790775   \n" +
                "9999607809\n" +
                "9810785049  \n" +
                "9803519888\n" +
                "9686800474    \n" +
                "1122823400    \n" +
                "8867146488 \n" +
                "7696024365\n" +
                "9494154544 \n" +
                "9033080464\n" +
                "9999458859\n" +
                "7838361686 \n" +
                "9915226020\n" +
                "9599530177\n" +
                "2261505200 \n" +
                "9216801800\n" +
                "7838383633\n" +
                "9771476701 \n" +
                "9899591256\n" +
                "9888474414 \n" +
                "9167910915\n" +
                "9258338586\n" +
                "9911502888   \n" +
                "9540505454 \n" +
                "9897067282\n" +
                "9007016303\n" +
                "9888474414\n" +
                "9811021630 \n" +
                "9906545900 \n" +
                "9891210079\n" +
                "9812543210\n" +
                "9312022444 \n" +
                "8527046453  \n" +
                "9412727100\n" +
                "9868882971\n" +
                "9811178943\n" +
                "9737356891\n" +
                "9927427499 \n" +
                "8875087750\n" +
                "28817979\n" +
                "9810556048 \n" +
                "94944154528\n" +
                "9448201935 \n" +
                "9841737896\n" +
                "9971096123  \n" +
                "9910425552  \n" +
                "9815215777 \n" +
                "9897300229\n" +
                "9811447742   \n" +
                "9212129276\n" +
                "9899591256 \n" +
                "9911919591 \n" +
                "9810157644 \n" +
                "9582262519  \n" +
                "9831661166\n" +
                "8875087750  \n" +
                "9811657022  \n" +
                "9982114016\n" +
                "9811470553 \n" +
                "9815207780 \n" +
                "9312022444 \n" +
                "8826579115\n" +
                "9899508774 \n" +
                "9873814748\n" +
                "8377078863 \n" +
                "9663394853    \n" +
                "9927427499    \n" +
                "9971066561\n" +
                "1141055045 \n" +
                "9822287364 \n" +
                "9215056089    \n" +
                "9591505505    \n" +
                "9810795625 \n" +
                "9811323283\n" +
                "7696024365 \n" +
                "9250404164\n" +
                "9999922286  \n" +
                "9872141895 \n" +
                "8875087750\n" +
                "9999495071\n" +
                "9872141895    \n" +
                "9374069422\n" +
                "9899598836 \n" +
                "9210726408\n" +
                "9968874880    \n" +
                "9351063917   \n" +
                "7838383633 \n" +
                "9815215777\n" +
                "8879755467\n" +
                "9811470553\n" +
                "9818844877  \n" +
                "9744500060  \n" +
                "9930937020\n" +
                "9815215777  \n" +
                "9771476701\n" +
                "9034410710\n" +
                "9312022444\n" +
                "9810343752   \n" +
                "9958455770\n" +
                "9663394853  \n" +
                "9958690396\n" +
                "9785904451\n" +
                "9897300229\n" +
                "2240660200\n" +
                "9162183484\n" +
                "9910461212\n" +
                "9413521411\n" +
                "9811328244 \n" +
                "9810602753 \n" +
                "9811468595\n" +
                "7838383633\n" +
                "9812543210    \n" +
                "9540675297\n" +
                "9910425552\n" +
                "9321919293 \n" +
                "9831710035\n" +
                "9833766357 \n" +
                "8802562723 \n" +
                "9810258776\n" +
                "9215056089  \n" +
                "9810618339\n" +
                "9374069422\n" +
                "9215056089 \n" +
                "9844091555\n" +
                "9897067282\n" +
                "9321597722 \n" +
                "8016082012\n" +
                "9873400121 \n" +
                "9718073531\n" +
                "9162183484\n" +
                "8512851280 \n" +
                "7696024365\n" +
                "9873400692 \n" +
                "9258338586\n" +
                "9873825263\n" +
                "9831661166 \n" +
                "7087297598\n" +
                "9711986880\n" +
                "9334913614 \n" +
                "2228196533\n" +
                "9823263425\n" +
                "8652022922\n" +
                "9665448287\n" +
                "9311102019 \n" +
                "98311 44702\n" +
                "9540588107\n" +
                "9594600907\n" +
                "9310395665\n" +
                "11-43538823\n" +
                "9334913614\n" +
                "9818734126\n" +
                "9899598836\n" +
                "9873814748\n" +
                "9999999027\n" +
                "9310295053\n" +
                "9910425552\n" +
                "9811511013\n" +
                "9810618339\n" +
                "7696024365\n" +
                "9771476701\n" +
                "9212669600\n" +
                "9999675098\n" +
                "9215056089\n" +
                "9574303444\n" +
                "9718580706\n" +
                "9831661166\n" +
                "8882084411\n" +
                "9811311926\n" +
                "9911616161\n" +
                "9818734126\n" +
                "8512851280\n" +
                "9953399988\n" +
                "9810447742\n" +
                "9210777456\n" +
                "8764322444\n" +
                "9535246422\n" +
                "9321919293\n" +
                "9657861020\n" +
                "9892414080\n" +
                "9810020717\n" +
                "9212212134\n" +
                "8744053738\n" +
                "9311102019\n" +
                "8028465611\n" +
                "9896029999\n" +
                "1142466531\n" +
                "9582262519\n" +
                "9873400692\n" +
                "9818147878\n" +
                "9334913614\n" +
                "9915703377\n" +
                "9810258776\n" +
                "8792234744\n" +
                "9897300229\n" +
                "9718073531\n" +
                "9310954202\n" +
                "9844091555\n" +
                "8506061443\n" +
                "9818560606\n" +
                "9837003064\n" +
                "9880312388\n" +
                "8884411105\n" +
                "9811323283\n" +
                "9899591256\n" +
                "9351063917\n" +
                "9823263425\n" +
                "8826518333\n" +
                "9811050423\n" +
                "9891331207\n" +
                "9811447742\n" +
                "8744077006\n" +
                "9818888413\n" +
                "9980306000\n" +
                "9555222577\n" +
                "9212701864\n" +
                "9906545900\n" +
                "9785904451\n" +
                "8506856071\n" +
                "9891689839\n" +
                "9594062605\n" +
                "9212014142\n" +
                "9711099859\n" +
                "9810168899\n" +
                "1143177000\n" +
                "8882512123\n" +
                "8800971122\n" +
                "9971073684\n" +
                "9812543210\n" +
                "9968622533\n" +
                "9886232747\n" +
                "9818046242\n" +
                "9982114016\n" +
                "28817979\n" +
                "9879607758\n" +
                "9216573222\n" +
                "9779226505\n" +
                "1122823400\n" +
                "9350444357\n" +
                "9029236731\n" +
                "9355411699\n" +
                "9818844877\n" +
                "8130572111\n" +
                "9811328244\n" +
                "9811592368\n" +
                "9871121711\n" +
                "1143538851\n" +
                "9555169456\n" +
                "9897067282\n" +
                "9873825263\n" +
                "9358170956\n" +
                "9167771152\n" +
                "9820734696\n" +
                "8882512123\n" +
                "8802562723\n" +
                "9811943804\n" +
                "9312473728\n" +
                "9453045551\n" +
                "7840079153\n" +
                "9783333679\n" +
                "1141645559\n" +
                "9033080464\n" +
                "9619101243\n" +
                "7838361686\n" +
                "9911616161\n" +
                "9425091161\n" +
                "9861784079\n" +
                "8126423145   \n" +
                "9313805702\n" +
                "9811821430\n" +
                "7385950126\n" +
                "9416311497\n" +
                "9874069422\n" +
                "9899807074\n" +
                "9810320540\n" +
                "9663394853\n" +
                "9831710035\n" +
                "9004448307\n" +
                "9650166741\n" +
                "9864074894        \n" +
                "9312022444\n" +
                "9999022738\n" +
                "9312337770\n" +
                "8237348805\n" +
                "1127057070\n" +
                "9999420594" ;


        String[] contactArr = contants.split("\n");
        System.out.println("Contacts list are  " + contactArr.length);
        for (String contact : contactArr) {
            try {
                contact = "91" + contact;
                checkContant(contact.trim());
                // System.out.println("Checking Contact Passed of  "+contact);
                sendMessage(contact, "dlt_temp_live");
                // System.out.println("First Message Send  "+contact);
//                sendMessage(contact, "dlt_alert_autoreply1");
                System.out.println("Sent SuccessFully to  " + contact);
            } catch (Exception ew) {
                System.out.println("Invalid Reciept " + contact);
            }
        }

    }




}
